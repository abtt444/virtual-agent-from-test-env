<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic">
    <sys_cb_topic action="DELETE">
        <applicability/>
        <applicability_mode>query</applicability_mode>
        <autopilot_topic>false</autopilot_topic>
        <category/>
        <channels/>
        <connect_queue/>
        <description>Returns results from knowledge articles, service catalog items, attachments to cases and other sources.</description>
        <expose_on_palette>false</expose_on_palette>
        <flexible_conversation_switching>true</flexible_conversation_switching>
        <graph>{
  "graph_api_version": "1.0.36",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "Topic block for Contextual Search",
      "nodes": {
        "c8b2d139e9f44a4eb2a4a34f7efe65ca": {
          "id": "c8b2d139e9f44a4eb2a4a34f7efe65ca",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "parameters": [
            {
              "name": "context",
              "value": "",
              "id": "84565ee7ce6f4b98ba1ad64bd6766584",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "query",
              "value": "",
              "id": "bda71f48b2eb40b08e723125ded35224",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "portal",
              "value": "",
              "id": "9e5633baacc6445cb7801eec6bb87d1a",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "kb_knowledge_base",
              "value": "",
              "id": "f948aa2aaa4e4c418d8c64db8da9ba9c",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            }
          ],
          "variableIds": [
            "84565ee7ce6f4b98ba1ad64bd6766584",
            "bda71f48b2eb40b08e723125ded35224",
            "9e5633baacc6445cb7801eec6bb87d1a",
            "f948aa2aaa4e4c418d8c64db8da9ba9c"
          ]
        },
        "9ac96a992d004585aa908df03fe56d06": {
          "id": "9ac96a992d004585aa908df03fe56d06",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Results returned",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.results_returned}}",
                        "displayValue": "vaVars➛results_returned"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": false
            },
            {
              "key": "Results Helpful",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.results_helpful}}",
                        "displayValue": "vaVars➛results_helpful"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": false
            },
            {
              "key": "ctx_search_details",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.ctx_search_details}}",
                        "displayValue": "Script Variables➛ctx_search_details"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true
            }
          ]
        },
        "84c6e4300074430591e0c65db3fee95c": {
          "id": "84c6e4300074430591e0c65db3fee95c",
          "name": "Contextual Search",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaInputs.context.getDisplayValue(), vaInputs.query, vaInputs.kb_knowledge_base\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }   \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, vaVars.max_search_result_count, -2);\n    vaVars.searchResultCount = relevantSearchResults.length;\n    vaVars.search_result_json_string = JSON.stringify(relevantSearchResults);\n    vaVars.index = 0;\n\n    var searchResultSummary = {};\n    for(var key=0;key&lt;relevantSearchResults.length;key++){\n        var id = relevantSearchResults[key].id;\n        var tableName = id.split(\":\")[0];\n        var sysId = id.split(\":\")[1];\n\n        if(tableName in searchResultSummary){\n            var resultSysIDList = searchResultSummary[tableName];\n            resultSysIDList.push(sysId);\n            searchResultSummary[tableName] = resultSysIDList;\n        }\n        else{\n            searchResultSummary[tableName] = [sysId];\n        }\n    }\n    vaVars.ctx_search_details = JSON.stringify(searchResultSummary);\n  \n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "isOk": true
        },
        "a37a274216c14e51976731cfd4eab9f5": {
          "id": "a37a274216c14e51976731cfd4eab9f5",
          "stepType": "Decision",
          "name": "Did the search return results?",
          "applicability": {
            "mode": "query",
            "value": ""
          }
        },
        "321c27d5a8f347f1ab085a9da1fd03f0": {
          "id": "321c27d5a8f347f1ab085a9da1fd03f0",
          "stepType": "Prompt",
          "name": "Did Articles Help",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Did any of this information resolve your issue?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "c586954cf11b4911b84a0a72d0a63099",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "559565454e824c3392a671720d66fc5e": {
          "id": "559565454e824c3392a671720d66fc5e",
          "name": "Record Outputs",
          "script": "(function execute() {\n    if(vaInputs.did_articles_help == 'true') {\n        vaVars.results_helpful = true;\n    } else {\n        vaVars.results_helpful = false;\n    }\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "91ba17815f6d4b259d76761c29c787b0": {
          "id": "91ba17815f6d4b259d76761c29c787b0",
          "stepType": "LinkOutput",
          "name": "Display multi-link",
          "url": {
            "mode": "simple",
            "value": ""
          },
          "label": {
            "mode": "simple",
            "value": ""
          },
          "header": {
            "mode": "simple",
            "value": ""
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "linkType": "multiple",
          "introMsg": {
            "value": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var count = parseInt(vaVars.searchResultCount);\n    var limit = parseInt(vaVars.limit)\n    var start = index + 1;\n    var end = (index + limit &lt; vaVars.searchResultCount) ? index + limit : vaVars.searchResultCount;\n    return gs.getMessage(\"Showing results {0} to {1} of {2}\", [start.toString(), end.toString(), vaVars.searchResultCount.toString()]);\n})()\n",
            "mode": "script"
          },
          "listOfLinks": "(function execute(header) {\n\tvar variables = {\n\t\tlimit: vaVars.limit,\n\t\tindex: vaVars.index,\n\t\tsearch_result_json_string: vaVars.search_result_json_string,\n\t\tportal: vaInputs.portal\n\t}\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n})(header)\n"
        },
        "219ee2ab696e4271924ace6f6177fe75": {
          "stepType": "ReferenceChoicePrompt",
          "name": "User Operation",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "What would you like to do?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "f68f087efd95498b818792fdad917e94",
          "id": "219ee2ab696e4271924ace6f6177fe75",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var count = parseInt(vaVars.searchResultCount);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if (index + limit &lt; count) {\n        options.push({ \"value\": \"show_more\", \"label\": gs.getMessage(\"Show more\") })\n    }\n    if (index &gt; 0) {\n        options.push({ \"value\": \"show_prev\", \"label\": gs.getMessage(\"Show previous\") })\n    }\n    options.push({ \"value\": \"done\", \"label\": gs.getMessage(\"I'm done\") })\n    return options;\n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No Records Found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var count = parseInt(vaVars.searchResultCount);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if (index + limit &lt; count) {\n        options.push({ \"value\": \"show_more\", \"label\": gs.getMessage(\"Show more\") })\n    }\n    if (index &gt; 0) {\n        options.push({ \"value\": \"show_prev\", \"label\": gs.getMessage(\"Show previous\") })\n    }\n    options.push({ \"value\": \"done\", \"label\": gs.getMessage(\"I'm done\") })\n    return options;\n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "95078a0fd82b4306b6023ab68467c4fc": {
          "id": "95078a0fd82b4306b6023ab68467c4fc",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c65c4619e33b41a7a6f0106c56764bec": {
          "id": "c65c4619e33b41a7a6f0106c56764bec",
          "name": "Show More",
          "script": "(function execute() {\n    vaVars.index = parseInt(vaVars.index) + parseInt(vaVars.limit);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "43d46d2371974d0c9747b62b78aa5637": {
          "id": "43d46d2371974d0c9747b62b78aa5637",
          "name": "Show Previous",
          "script": "(function execute() {\n    vaVars.index = parseInt(vaVars.index) - parseInt(vaVars.limit);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c8cf17bb0c994cc0a47d9c3851a3dd8d": {
          "id": "c8cf17bb0c994cc0a47d9c3851a3dd8d",
          "stepType": "Decision",
          "name": "Decision"
        }
      },
      "edges": [
        {
          "id": "ae78cbb159df481fa09c3c91e5c0deca",
          "edgeType": "Branch",
          "source": "a37a274216c14e51976731cfd4eab9f5",
          "target": "91ba17815f6d4b259d76761c29c787b0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.searchResultCount &gt; 0) {\n        vaVars.results_returned = true;\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "dad197e06719457f9bbcad3ece097900",
          "edgeType": "Edge",
          "source": "c8b2d139e9f44a4eb2a4a34f7efe65ca",
          "target": "84c6e4300074430591e0c65db3fee95c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "722edd119f2644daabbf902b33f5a516",
          "edgeType": "Branch",
          "source": "a37a274216c14e51976731cfd4eab9f5",
          "target": "9ac96a992d004585aa908df03fe56d06",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (!(vaVars.searchResultCount &gt; 0)) {\n        vaVars.results_helpful = false;\n        vaVars.results_returned = false;\n        return true;\n    }\n    return false;\n\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "76252ec3263a46958939fa4466094d6a",
          "edgeType": "Edge",
          "source": "84c6e4300074430591e0c65db3fee95c",
          "target": "a37a274216c14e51976731cfd4eab9f5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1106a593372b411c921830d82cfaf7f5",
          "edgeType": "Edge",
          "source": "321c27d5a8f347f1ab085a9da1fd03f0",
          "target": "559565454e824c3392a671720d66fc5e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5acc1d74d4fc4fc09271843829914789",
          "edgeType": "Edge",
          "source": "559565454e824c3392a671720d66fc5e",
          "target": "9ac96a992d004585aa908df03fe56d06",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a449b852d074a60bf591ab7c8f819bc",
          "edgeType": "Edge",
          "source": "219ee2ab696e4271924ace6f6177fe75",
          "target": "95078a0fd82b4306b6023ab68467c4fc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8ace968902ac4cdd93a47809f8dae1b0",
          "edgeType": "Branch",
          "source": "95078a0fd82b4306b6023ab68467c4fc",
          "target": "321c27d5a8f347f1ab085a9da1fd03f0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.user_operation.getValue() == 'done';\n})()\n"
          },
          "label": "I'm Done"
        },
        {
          "id": "dd06c4f7b76a43b3bfc6e4d6cad6a877",
          "edgeType": "Branch",
          "source": "95078a0fd82b4306b6023ab68467c4fc",
          "target": "c65c4619e33b41a7a6f0106c56764bec",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.user_operation.getValue() == 'show_more';\n})()\n"
          },
          "label": "Show More"
        },
        {
          "id": "2734bea9d05c445c9ef9e700bf7a9be1",
          "edgeType": "Edge",
          "source": "c65c4619e33b41a7a6f0106c56764bec",
          "target": "91ba17815f6d4b259d76761c29c787b0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8957fc9f5baf40449690fbc8273d5161",
          "edgeType": "Branch",
          "source": "95078a0fd82b4306b6023ab68467c4fc",
          "target": "43d46d2371974d0c9747b62b78aa5637",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.user_operation.getValue() == 'show_prev';\n})()\n"
          },
          "label": "Show Previous"
        },
        {
          "id": "8e1935f7785648a999495ef139b0ef04",
          "edgeType": "Edge",
          "source": "43d46d2371974d0c9747b62b78aa5637",
          "target": "91ba17815f6d4b259d76761c29c787b0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f8bb6fad6c8640008946ba43cd8f3d09",
          "edgeType": "Edge",
          "source": "91ba17815f6d4b259d76761c29c787b0",
          "target": "c8cf17bb0c994cc0a47d9c3851a3dd8d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ee4ab99a95c64ba6bb6e5121273f9ae5",
          "edgeType": "Branch",
          "source": "c8cf17bb0c994cc0a47d9c3851a3dd8d",
          "target": "219ee2ab696e4271924ace6f6177fe75",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var count = parseInt(vaVars.searchResultCount);\n    var limit = parseInt(vaVars.limit);\n    return count &gt; limit;\n})()\n"
          },
          "label": "count &gt; limit"
        },
        {
          "id": "cace627335a44df78c3229475207c153",
          "edgeType": "Branch",
          "source": "c8cf17bb0c994cc0a47d9c3851a3dd8d",
          "target": "321c27d5a8f347f1ab085a9da1fd03f0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var count = parseInt(vaVars.searchResultCount);\n    var limit = parseInt(vaVars.limit);\n    return count &lt;= limit;\n})()\n"
          },
          "label": "count &lt;= limit"
        }
      ]
    }
  },
  "variables": {
    "1afc211c06ac40c9a657e8143cf22e33": {
      "id": "1afc211c06ac40c9a657e8143cf22e33",
      "name": "search_result_json_string",
      "label": "search_result_json_string",
      "varType": "script",
      "category": "vaVars"
    },
    "f5356167436040b689978583b36843f0": {
      "id": "f5356167436040b689978583b36843f0",
      "name": "index",
      "label": "index",
      "varType": "script",
      "value": "0",
      "category": "vaVars"
    },
    "dddc1a9f95ae494c969b64e2f975ac15": {
      "id": "dddc1a9f95ae494c969b64e2f975ac15",
      "value": {
        "mode": "simple",
        "value": "3"
      },
      "name": "limit",
      "label": "limit",
      "varType": "script",
      "category": "vaVars"
    },
    "6f29069ec0d4489b9959031240ea0a77": {
      "id": "6f29069ec0d4489b9959031240ea0a77",
      "value": {
        "mode": "simple",
        "value": "2821675a5b30130070e4492c11f91a89"
      },
      "name": "search_context_sys_id",
      "label": "search_context_sys_id",
      "varType": "script",
      "category": "vaVars"
    },
    "e2f161c510b341aaa0124698a60bd801": {
      "id": "e2f161c510b341aaa0124698a60bd801",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "searchResultCount",
      "label": "searchResultCount",
      "varType": "script",
      "category": "vaVars"
    },
    "84565ee7ce6f4b98ba1ad64bd6766584": {
      "id": "84565ee7ce6f4b98ba1ad64bd6766584",
      "name": "context",
      "label": "Context",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "c586954cf11b4911b84a0a72d0a63099": {
      "id": "c586954cf11b4911b84a0a72d0a63099",
      "name": "did_articles_help",
      "label": "Did Articles Help",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "774d40ca3d2447ca8a777a48fd60b450": {
      "id": "774d40ca3d2447ca8a777a48fd60b450",
      "value": {
        "mode": "simple",
        "value": "false"
      },
      "name": "results_returned",
      "label": "results_returned",
      "varType": "script",
      "category": "vaVars"
    },
    "052d63cdc56c477dbcfaa3cb31357320": {
      "id": "052d63cdc56c477dbcfaa3cb31357320",
      "value": {
        "mode": "simple",
        "value": "false"
      },
      "name": "results_helpful",
      "label": "results_helpful",
      "varType": "script",
      "category": "vaVars"
    },
    "bda71f48b2eb40b08e723125ded35224": {
      "id": "bda71f48b2eb40b08e723125ded35224",
      "name": "query",
      "label": "Query",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "be3b7bd9babe4c6e94fdc55cf249ab2e": {
      "id": "be3b7bd9babe4c6e94fdc55cf249ab2e",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "DEBUG_JSON_RESULT",
      "label": "DEBUG_JSON_RESULT",
      "varType": "script",
      "category": "vaVars"
    },
    "9e5633baacc6445cb7801eec6bb87d1a": {
      "id": "9e5633baacc6445cb7801eec6bb87d1a",
      "name": "portal",
      "label": "Portal",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "f948aa2aaa4e4c418d8c64db8da9ba9c": {
      "id": "f948aa2aaa4e4c418d8c64db8da9ba9c",
      "name": "kb_knowledge_base",
      "label": "Kb_knowledge_base",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "7e1bed555ad84cb9af20aef022376fff": {
      "category": "vaInputs",
      "id": "7e1bed555ad84cb9af20aef022376fff",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "f68f087efd95498b818792fdad917e94": {
      "id": "f68f087efd95498b818792fdad917e94",
      "name": "user_operation",
      "label": "User Operation",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "f23e2f76d1294650975983d9b090adfd": {
      "id": "f23e2f76d1294650975983d9b090adfd",
      "value": {
        "mode": "simple",
        "value": "20"
      },
      "name": "max_search_result_count",
      "label": "max_search_result_count",
      "varType": "script",
      "category": "vaVars"
    },
    "c31e03a60a56418888f3cd796755ffd3": {
      "id": "c31e03a60a56418888f3cd796755ffd3",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "ctx_search_details",
      "label": "ctx_search_details",
      "varType": "script",
      "category": "vaVars"
    }
  }
}</graph>
        <key_phrases/>
        <library>true</library>
        <live_agent>false</live_agent>
        <name>KB Contextual Search</name>
        <nlu_intent/>
        <nlu_intent_label/>
        <nlu_model/>
        <nlu_model_label/>
        <nlu_provider/>
        <palette_label/>
        <roles/>
        <source_topic_id>d7584f5fb3573300dbbf6030c6a8dc5c</source_topic_id>
        <sys_class_name>sys_cb_topic</sys_class_name>
        <sys_created_by>thabiso.diphare</sys_created_by>
        <sys_created_on>2022-09-12 10:11:23</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>2fb312c797bd1150fac1f386f053affa</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>KB Contextual Search</sys_name>
        <sys_package display_value="Absa HR NLU Models" source="x_absa2_absa_hr_nl">4a28375b1bedec54ef5b635ee54bcba5</sys_package>
        <sys_policy/>
        <sys_scope display_value="Absa HR NLU Models">4a28375b1bedec54ef5b635ee54bcba5</sys_scope>
        <sys_update_name>sys_cb_topic_2fb312c797bd1150fac1f386f053affa</sys_update_name>
        <sys_updated_by>thabiso.diphare</sys_updated_by>
        <sys_updated_on>2022-09-12 10:11:35</sys_updated_on>
        <triggerable_by_notification>false</triggerable_by_notification>
        <type>TOPIC_BLOCK</type>
        <variables/>
    </sys_cb_topic>
    <sys_variable_value action="DELETE" query="document_key=2fb312c797bd1150fac1f386f053affa"/>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Absa HR NLU Models">4a28375b1bedec54ef5b635ee54bcba5</application>
        <file_path/>
        <instance_id>b3065e0edb486b4052e3f70fbf96193b</instance_id>
        <instance_name>absahrdev</instance_name>
        <name>sys_cb_topic_2fb312c797bd1150fac1f386f053affa</name>
        <payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic"><sys_cb_topic action="INSERT_OR_UPDATE"><applicability/><applicability_mode>query</applicability_mode><autopilot_topic>false</autopilot_topic><category/><channels/><connect_queue/><description>Returns results from knowledge articles, service catalog items, attachments to cases and other sources.</description><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>true</flexible_conversation_switching><graph>{
  "graph_api_version": "1.0.36",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "Topic block for Contextual Search",
      "nodes": {
        "c8b2d139e9f44a4eb2a4a34f7efe65ca": {
          "id": "c8b2d139e9f44a4eb2a4a34f7efe65ca",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "parameters": [
            {
              "name": "context",
              "value": "",
              "id": "84565ee7ce6f4b98ba1ad64bd6766584",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "query",
              "value": "",
              "id": "bda71f48b2eb40b08e723125ded35224",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "portal",
              "value": "",
              "id": "9e5633baacc6445cb7801eec6bb87d1a",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "kb_knowledge_base",
              "value": "",
              "id": "f948aa2aaa4e4c418d8c64db8da9ba9c",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            }
          ],
          "variableIds": [
            "84565ee7ce6f4b98ba1ad64bd6766584",
            "bda71f48b2eb40b08e723125ded35224",
            "9e5633baacc6445cb7801eec6bb87d1a",
            "f948aa2aaa4e4c418d8c64db8da9ba9c"
          ]
        },
        "9ac96a992d004585aa908df03fe56d06": {
          "id": "9ac96a992d004585aa908df03fe56d06",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "Results returned",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.results_returned}}",
                        "displayValue": "vaVars➛results_returned"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": false
            },
            {
              "key": "Results Helpful",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.results_helpful}}",
                        "displayValue": "vaVars➛results_helpful"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": false
            },
            {
              "key": "ctx_search_details",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.ctx_search_details}}",
                        "displayValue": "Script Variables➛ctx_search_details"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true
            }
          ]
        },
        "84c6e4300074430591e0c65db3fee95c": {
          "id": "84c6e4300074430591e0c65db3fee95c",
          "name": "Contextual Search",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaInputs.context.getDisplayValue(), vaInputs.query, vaInputs.kb_knowledge_base\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }   \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, vaVars.max_search_result_count, -2);\n    vaVars.searchResultCount = relevantSearchResults.length;\n    vaVars.search_result_json_string = JSON.stringify(relevantSearchResults);\n    vaVars.index = 0;\n\n    var searchResultSummary = {};\n    for(var key=0;key&lt;relevantSearchResults.length;key++){\n        var id = relevantSearchResults[key].id;\n        var tableName = id.split(\":\")[0];\n        var sysId = id.split(\":\")[1];\n\n        if(tableName in searchResultSummary){\n            var resultSysIDList = searchResultSummary[tableName];\n            resultSysIDList.push(sysId);\n            searchResultSummary[tableName] = resultSysIDList;\n        }\n        else{\n            searchResultSummary[tableName] = [sysId];\n        }\n    }\n    vaVars.ctx_search_details = JSON.stringify(searchResultSummary);\n  \n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "isOk": true
        },
        "a37a274216c14e51976731cfd4eab9f5": {
          "id": "a37a274216c14e51976731cfd4eab9f5",
          "stepType": "Decision",
          "name": "Did the search return results?",
          "applicability": {
            "mode": "query",
            "value": ""
          }
        },
        "321c27d5a8f347f1ab085a9da1fd03f0": {
          "id": "321c27d5a8f347f1ab085a9da1fd03f0",
          "stepType": "Prompt",
          "name": "Did Articles Help",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Did any of this information resolve your issue?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "c586954cf11b4911b84a0a72d0a63099",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "559565454e824c3392a671720d66fc5e": {
          "id": "559565454e824c3392a671720d66fc5e",
          "name": "Record Outputs",
          "script": "(function execute() {\n    if(vaInputs.did_articles_help == 'true') {\n        vaVars.results_helpful = true;\n    } else {\n        vaVars.results_helpful = false;\n    }\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "91ba17815f6d4b259d76761c29c787b0": {
          "id": "91ba17815f6d4b259d76761c29c787b0",
          "stepType": "LinkOutput",
          "name": "Display multi-link",
          "url": {
            "mode": "simple",
            "value": ""
          },
          "label": {
            "mode": "simple",
            "value": ""
          },
          "header": {
            "mode": "simple",
            "value": ""
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "linkType": "multiple",
          "introMsg": {
            "value": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var count = parseInt(vaVars.searchResultCount);\n    var limit = parseInt(vaVars.limit)\n    var start = index + 1;\n    var end = (index + limit &lt; vaVars.searchResultCount) ? index + limit : vaVars.searchResultCount;\n    return gs.getMessage(\"Showing results {0} to {1} of {2}\", [start.toString(), end.toString(), vaVars.searchResultCount.toString()]);\n})()\n",
            "mode": "script"
          },
          "listOfLinks": "(function execute(header) {\n\tvar variables = {\n\t\tlimit: vaVars.limit,\n\t\tindex: vaVars.index,\n\t\tsearch_result_json_string: vaVars.search_result_json_string,\n\t\tportal: vaInputs.portal\n\t}\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n})(header)\n"
        },
        "219ee2ab696e4271924ace6f6177fe75": {
          "stepType": "ReferenceChoicePrompt",
          "name": "User Operation",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "What would you like to do?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "f68f087efd95498b818792fdad917e94",
          "id": "219ee2ab696e4271924ace6f6177fe75",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var count = parseInt(vaVars.searchResultCount);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if (index + limit &lt; count) {\n        options.push({ \"value\": \"show_more\", \"label\": gs.getMessage(\"Show more\") })\n    }\n    if (index &gt; 0) {\n        options.push({ \"value\": \"show_prev\", \"label\": gs.getMessage(\"Show previous\") })\n    }\n    options.push({ \"value\": \"done\", \"label\": gs.getMessage(\"I'm done\") })\n    return options;\n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No Records Found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var count = parseInt(vaVars.searchResultCount);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if (index + limit &lt; count) {\n        options.push({ \"value\": \"show_more\", \"label\": gs.getMessage(\"Show more\") })\n    }\n    if (index &gt; 0) {\n        options.push({ \"value\": \"show_prev\", \"label\": gs.getMessage(\"Show previous\") })\n    }\n    options.push({ \"value\": \"done\", \"label\": gs.getMessage(\"I'm done\") })\n    return options;\n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "95078a0fd82b4306b6023ab68467c4fc": {
          "id": "95078a0fd82b4306b6023ab68467c4fc",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c65c4619e33b41a7a6f0106c56764bec": {
          "id": "c65c4619e33b41a7a6f0106c56764bec",
          "name": "Show More",
          "script": "(function execute() {\n    vaVars.index = parseInt(vaVars.index) + parseInt(vaVars.limit);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "43d46d2371974d0c9747b62b78aa5637": {
          "id": "43d46d2371974d0c9747b62b78aa5637",
          "name": "Show Previous",
          "script": "(function execute() {\n    vaVars.index = parseInt(vaVars.index) - parseInt(vaVars.limit);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c8cf17bb0c994cc0a47d9c3851a3dd8d": {
          "id": "c8cf17bb0c994cc0a47d9c3851a3dd8d",
          "stepType": "Decision",
          "name": "Decision"
        }
      },
      "edges": [
        {
          "id": "ae78cbb159df481fa09c3c91e5c0deca",
          "edgeType": "Branch",
          "source": "a37a274216c14e51976731cfd4eab9f5",
          "target": "91ba17815f6d4b259d76761c29c787b0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.searchResultCount &gt; 0) {\n        vaVars.results_returned = true;\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "dad197e06719457f9bbcad3ece097900",
          "edgeType": "Edge",
          "source": "c8b2d139e9f44a4eb2a4a34f7efe65ca",
          "target": "84c6e4300074430591e0c65db3fee95c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "722edd119f2644daabbf902b33f5a516",
          "edgeType": "Branch",
          "source": "a37a274216c14e51976731cfd4eab9f5",
          "target": "9ac96a992d004585aa908df03fe56d06",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (!(vaVars.searchResultCount &gt; 0)) {\n        vaVars.results_helpful = false;\n        vaVars.results_returned = false;\n        return true;\n    }\n    return false;\n\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "76252ec3263a46958939fa4466094d6a",
          "edgeType": "Edge",
          "source": "84c6e4300074430591e0c65db3fee95c",
          "target": "a37a274216c14e51976731cfd4eab9f5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1106a593372b411c921830d82cfaf7f5",
          "edgeType": "Edge",
          "source": "321c27d5a8f347f1ab085a9da1fd03f0",
          "target": "559565454e824c3392a671720d66fc5e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5acc1d74d4fc4fc09271843829914789",
          "edgeType": "Edge",
          "source": "559565454e824c3392a671720d66fc5e",
          "target": "9ac96a992d004585aa908df03fe56d06",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8a449b852d074a60bf591ab7c8f819bc",
          "edgeType": "Edge",
          "source": "219ee2ab696e4271924ace6f6177fe75",
          "target": "95078a0fd82b4306b6023ab68467c4fc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8ace968902ac4cdd93a47809f8dae1b0",
          "edgeType": "Branch",
          "source": "95078a0fd82b4306b6023ab68467c4fc",
          "target": "321c27d5a8f347f1ab085a9da1fd03f0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.user_operation.getValue() == 'done';\n})()\n"
          },
          "label": "I'm Done"
        },
        {
          "id": "dd06c4f7b76a43b3bfc6e4d6cad6a877",
          "edgeType": "Branch",
          "source": "95078a0fd82b4306b6023ab68467c4fc",
          "target": "c65c4619e33b41a7a6f0106c56764bec",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.user_operation.getValue() == 'show_more';\n})()\n"
          },
          "label": "Show More"
        },
        {
          "id": "2734bea9d05c445c9ef9e700bf7a9be1",
          "edgeType": "Edge",
          "source": "c65c4619e33b41a7a6f0106c56764bec",
          "target": "91ba17815f6d4b259d76761c29c787b0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8957fc9f5baf40449690fbc8273d5161",
          "edgeType": "Branch",
          "source": "95078a0fd82b4306b6023ab68467c4fc",
          "target": "43d46d2371974d0c9747b62b78aa5637",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.user_operation.getValue() == 'show_prev';\n})()\n"
          },
          "label": "Show Previous"
        },
        {
          "id": "8e1935f7785648a999495ef139b0ef04",
          "edgeType": "Edge",
          "source": "43d46d2371974d0c9747b62b78aa5637",
          "target": "91ba17815f6d4b259d76761c29c787b0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "f8bb6fad6c8640008946ba43cd8f3d09",
          "edgeType": "Edge",
          "source": "91ba17815f6d4b259d76761c29c787b0",
          "target": "c8cf17bb0c994cc0a47d9c3851a3dd8d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ee4ab99a95c64ba6bb6e5121273f9ae5",
          "edgeType": "Branch",
          "source": "c8cf17bb0c994cc0a47d9c3851a3dd8d",
          "target": "219ee2ab696e4271924ace6f6177fe75",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var count = parseInt(vaVars.searchResultCount);\n    var limit = parseInt(vaVars.limit);\n    return count &gt; limit;\n})()\n"
          },
          "label": "count &gt; limit"
        },
        {
          "id": "cace627335a44df78c3229475207c153",
          "edgeType": "Branch",
          "source": "c8cf17bb0c994cc0a47d9c3851a3dd8d",
          "target": "321c27d5a8f347f1ab085a9da1fd03f0",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var count = parseInt(vaVars.searchResultCount);\n    var limit = parseInt(vaVars.limit);\n    return count &lt;= limit;\n})()\n"
          },
          "label": "count &lt;= limit"
        }
      ]
    }
  },
  "variables": {
    "1afc211c06ac40c9a657e8143cf22e33": {
      "id": "1afc211c06ac40c9a657e8143cf22e33",
      "name": "search_result_json_string",
      "label": "search_result_json_string",
      "varType": "script",
      "category": "vaVars"
    },
    "f5356167436040b689978583b36843f0": {
      "id": "f5356167436040b689978583b36843f0",
      "name": "index",
      "label": "index",
      "varType": "script",
      "value": "0",
      "category": "vaVars"
    },
    "dddc1a9f95ae494c969b64e2f975ac15": {
      "id": "dddc1a9f95ae494c969b64e2f975ac15",
      "value": {
        "mode": "simple",
        "value": "3"
      },
      "name": "limit",
      "label": "limit",
      "varType": "script",
      "category": "vaVars"
    },
    "6f29069ec0d4489b9959031240ea0a77": {
      "id": "6f29069ec0d4489b9959031240ea0a77",
      "value": {
        "mode": "simple",
        "value": "2821675a5b30130070e4492c11f91a89"
      },
      "name": "search_context_sys_id",
      "label": "search_context_sys_id",
      "varType": "script",
      "category": "vaVars"
    },
    "e2f161c510b341aaa0124698a60bd801": {
      "id": "e2f161c510b341aaa0124698a60bd801",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "searchResultCount",
      "label": "searchResultCount",
      "varType": "script",
      "category": "vaVars"
    },
    "84565ee7ce6f4b98ba1ad64bd6766584": {
      "id": "84565ee7ce6f4b98ba1ad64bd6766584",
      "name": "context",
      "label": "Context",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "c586954cf11b4911b84a0a72d0a63099": {
      "id": "c586954cf11b4911b84a0a72d0a63099",
      "name": "did_articles_help",
      "label": "Did Articles Help",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "774d40ca3d2447ca8a777a48fd60b450": {
      "id": "774d40ca3d2447ca8a777a48fd60b450",
      "value": {
        "mode": "simple",
        "value": "false"
      },
      "name": "results_returned",
      "label": "results_returned",
      "varType": "script",
      "category": "vaVars"
    },
    "052d63cdc56c477dbcfaa3cb31357320": {
      "id": "052d63cdc56c477dbcfaa3cb31357320",
      "value": {
        "mode": "simple",
        "value": "false"
      },
      "name": "results_helpful",
      "label": "results_helpful",
      "varType": "script",
      "category": "vaVars"
    },
    "bda71f48b2eb40b08e723125ded35224": {
      "id": "bda71f48b2eb40b08e723125ded35224",
      "name": "query",
      "label": "Query",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "be3b7bd9babe4c6e94fdc55cf249ab2e": {
      "id": "be3b7bd9babe4c6e94fdc55cf249ab2e",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "DEBUG_JSON_RESULT",
      "label": "DEBUG_JSON_RESULT",
      "varType": "script",
      "category": "vaVars"
    },
    "9e5633baacc6445cb7801eec6bb87d1a": {
      "id": "9e5633baacc6445cb7801eec6bb87d1a",
      "name": "portal",
      "label": "Portal",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "f948aa2aaa4e4c418d8c64db8da9ba9c": {
      "id": "f948aa2aaa4e4c418d8c64db8da9ba9c",
      "name": "kb_knowledge_base",
      "label": "Kb_knowledge_base",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "7e1bed555ad84cb9af20aef022376fff": {
      "category": "vaInputs",
      "id": "7e1bed555ad84cb9af20aef022376fff",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "f68f087efd95498b818792fdad917e94": {
      "id": "f68f087efd95498b818792fdad917e94",
      "name": "user_operation",
      "label": "User Operation",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "f23e2f76d1294650975983d9b090adfd": {
      "id": "f23e2f76d1294650975983d9b090adfd",
      "value": {
        "mode": "simple",
        "value": "20"
      },
      "name": "max_search_result_count",
      "label": "max_search_result_count",
      "varType": "script",
      "category": "vaVars"
    },
    "c31e03a60a56418888f3cd796755ffd3": {
      "id": "c31e03a60a56418888f3cd796755ffd3",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "ctx_search_details",
      "label": "ctx_search_details",
      "varType": "script",
      "category": "vaVars"
    }
  }
}</graph><key_phrases/><library>true</library><live_agent>false</live_agent><name>KB Contextual Search</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><roles/><source_topic_id>d7584f5fb3573300dbbf6030c6a8dc5c</source_topic_id><sys_class_name>sys_cb_topic</sys_class_name><sys_created_by>thabiso.diphare</sys_created_by><sys_created_on>2022-09-12 10:11:23</sys_created_on><sys_domain>global</sys_domain><sys_id>2fb312c797bd1150fac1f386f053affa</sys_id><sys_mod_count>1</sys_mod_count><sys_name>KB Contextual Search</sys_name><sys_package display_value="Absa HR NLU Models" source="x_absa2_absa_hr_nl">4a28375b1bedec54ef5b635ee54bcba5</sys_package><sys_policy/><sys_scope display_value="Absa HR NLU Models">4a28375b1bedec54ef5b635ee54bcba5</sys_scope><sys_update_name>sys_cb_topic_2fb312c797bd1150fac1f386f053affa</sys_update_name><sys_updated_by>thabiso.diphare</sys_updated_by><sys_updated_on>2022-09-12 10:11:35</sys_updated_on><triggerable_by_notification>false</triggerable_by_notification><type>TOPIC_BLOCK</type><variables/></sys_cb_topic><sys_variable_value action="delete_multiple" query="document_key=2fb312c797bd1150fac1f386f053affa"/></record_update>]]></payload>
        <payload_hash>1443362176</payload_hash>
        <record_name>KB Contextual Search</record_name>
        <reverted_from/>
        <source>3f3d971f87db3050c386fd99cebb3565</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>thabiso.diphare</sys_created_by>
        <sys_created_on>2022-09-12 10:11:35</sys_created_on>
        <sys_id>fec352c797bd1150fac1f386f053afd9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>183312ed1b80000001</sys_recorded_at>
        <sys_updated_by>thabiso.diphare</sys_updated_by>
        <sys_updated_on>2022-09-12 10:11:35</sys_updated_on>
        <type>Topic</type>
        <update_guid>b6c352c77bbd11503d3cf02a0d11cdd9</update_guid>
        <update_guid_history>b6c352c77bbd11503d3cf02a0d11cdd9:1443362176,dcc31e4b1bbd1150f3ded36ea32979d4:-1193573824</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete/>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>thabiso.diphare</sys_created_by>
        <sys_created_on>2022-09-12 10:19:34</sys_created_on>
        <sys_db_object display_value="" name="sys_cb_topic">sys_cb_topic</sys_db_object>
        <sys_id>90edde2e725d45aa983a975ef3f819e4</sys_id>
        <sys_metadata>2fb312c797bd1150fac1f386f053affa</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>KB Contextual Search</sys_name>
        <sys_package display_value="Absa HR NLU Models" source="x_absa2_absa_hr_nl">4a28375b1bedec54ef5b635ee54bcba5</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="Absa HR NLU Models">4a28375b1bedec54ef5b635ee54bcba5</sys_scope>
        <sys_scope_delete display_value="">3da79fd4d6714547bf3d1f765703ed69</sys_scope_delete>
        <sys_update_name>sys_cb_topic_2fb312c797bd1150fac1f386f053affa</sys_update_name>
        <sys_update_version display_value="sys_cb_topic_2fb312c797bd1150fac1f386f053affa">fec352c797bd1150fac1f386f053afd9</sys_update_version>
        <sys_updated_by>thabiso.diphare</sys_updated_by>
        <sys_updated_on>2022-09-12 10:19:34</sys_updated_on>
    </sys_metadata_delete>
</record_update>
